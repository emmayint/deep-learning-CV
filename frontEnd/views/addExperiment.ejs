<!DOCTYPE html>
<html>
  <head>
    <title>Add Experiment</title>
    <% include partials/head %>
    <link href="/stylesheets/style.css" rel="stylesheet" />
    <link href="/stylesheets/viewexperiment.css" rel="stylesheet" />
    <link href="/stylesheets/addExperiments.css" rel="stylesheet" />
  </head>

  <body>
    <!-- Navigation Bar -->
    <% include partials/home-header %>

    <div class="container"><br>
        <div class="row justify-content-center">
            <div class="col-md-6 border border-light p-0 card plus">

                <form action="/addExperiment" class="form" enctype="multipart/form-data" method="POST">
                    <h4 class="text-center login-title" style="padding-top:0">
                        Add Experiment
                    </h4>
                    <input autofocus class="form-control dblinputs" name="expTitle" placeholder="Experiment Title *"
                        required type="text">
                    <label class="addexp" for="expBirthDate">Experiment Date
                    </label>
                    <input autofocus class="form-control" name="expBirthDate" required type="date">
                    <label for="expImage" class="addexp">Experiment Image</label>
                    <input accept="image/*" autofocus multiple name="expImage" required type="file" />
                    <br>
                    <div id="field">
                        <div id="field0">
                    <!-- Text input-->
                    <div class="form-group">
                        <label class="addexp" for="action_id">Label Name</label>
                            <input id="action_id" name="action_id" type="text" placeholder="" class="form-control input-md">
                    <!-- Text input-->
                        <label class="addexp" for="action_name">Label Value</label>
                            <input id="action_name" name="action_name" type="text" placeholder="" class="form-control input-md">
                    </div></div>
                    </div>
<div class="form-group addexp">
        <button id="add-more" name="add-more" class="custombtn btn-primary btn-sm">Add More</button>
</div>
<div class="form-group addexp">
    <button type="submit" class="custombtn btn-primary btn-block btn-lg">Add Experiment</button>
</div>
                </form>

            </div>
            <!-- <div class="form-group addexp">
              <button type="submit" class="btn btn-primary btn-block btn-lg">
                Add Experiment
              </button>
            </div> -->
          </form>
        </div>
      </div>
    </div>
    <% include partials/footer %>
    <script type="text/javascript">
      $(document).ready(function() {
        //dynamic childs
        var next = 0;
        $("#add-more").click(function(e) {
          e.preventDefault();
          var addto = "#field" + next;
          var addRemove = "#field" + next;
          next = next + 1;
          var newIn =
            ' <div id="field' +
            next +
            '" name="field' +
            next +
            '"><!-- Text input--><div class="form-group" ><label class="addexp" for="action_id">Label Name</label><input id="action_id" name="action_id" type="text" placeholder="" class="form-control input-md"><!-- Text input--><label class="addexp" for="action_name">Label Value</label><input id="action_name" name="action_name" type="text" placeholder="" class="form-control input-md"></div></div>';
          var newInput = $(newIn);
          var removeBtn =
            '<button id="remove' +
            (next - 1) +
            '" class="btn btn-danger remove-me" >Remove</button></div></div><div id="field">';
          var removeButton = $(removeBtn);
          $(addto).after(newInput);
          $(addRemove).after(removeButton);
          $("#field" + next).attr("data-source", $(addto).attr("data-source"));
          $("#count").val(next);

          $(".remove-me").click(function(e) {
            e.preventDefault();
            var fieldNum = this.id.charAt(this.id.length - 1);
            var fieldID = "#field" + fieldNum;
            $(this).remove();
            $(fieldID).remove();
          });
        });
      });
    </script>
  </body>
</html>
