<!DOCTYPE html>
<html>

<head>
  <title>Home</title>
  <% include partials/head %>
  <link href="/stylesheets/style.css" rel="stylesheet" />
  <link href="/stylesheets/home.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/baguettebox.js/1.10.0/baguetteBox.min.css" />
  <link rel="stylesheet" href="/stylesheets/cards-gallery.css" />
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
</head>

<body>
  <!-- Navigation Bar -->
  <% include partials/home-header %>
  <div class="container">
    <div class="row div">
    <div class="col-md-12 btn-group-toggle topmargin">
        <div class="heading">
      <h2>
        SUMMARY
        <a aria-pressed="true" data-toggle="tooltip" data-placement="bottom" title="Go Back to Home page"
              class="custombtn btn-primary btn-lg" href="/home" role="button">
              <i class="fas fa-arrow-left"></i>
            </a>
      </h2>
      <hr class="mt-2 mb-5" />
    </div>
    <div class="row tbrow">
      <table id="example" class="table table-striped table-bordered" style="width:110%;">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="checkAll(this)"></th>
            <th>Date</th>
            <th>Experiment name</th>
            <th>Model Name</th>
            <th>Total Images</th>
            <th>Control</th>
            <th>Mutant</th>
            <th>User Validated?</th>
          </tr>
        </thead>

        <tbody>
            <% for (var i = 0; i < dataSummary.length; i++) { %>
              <% var create_at = dataSummary[i].prediction_date.split('/').join('-') %>
            <tr>
                <td><input type="checkbox" name=""></td>
                <td><%= dataSummary[i].prediction_date %></td>
                <!-- <td><a href="prevprediction/<%= dataSummary[i].exp_id %>/<%= create_at %>"><%= dataSummary[i].exp_title %></a></td> -->
                <td><a id="redirectPrevPred" href="prevprediction/<%= dataSummary[i].exp_id %>/<%= create_at %>/<%= dataSummary[i].is_validated %>" onclick="check();"><%= dataSummary[i].exp_title %></a></td>
                <td><%= dataSummary[i].model_name %></td>
                <td><%= dataSummary[i].total_images %></td>
                <td><%= dataSummary[i].control_count %></td>
                <td><%= dataSummary[i].mutant_count %></td>
                <td><%= dataSummary[i].is_validated %></td>
            </tr>
            <% } %>
        </tbody>
        <tfoot>
          <tr>
            <th></th>
            <th>Date</th>
            <th>Experiment name</th>
            <th>Model Name</th>
            <th>Total Images</th>
            <th>Control</th>
            <th>Mutant</th>
            <th>User Validated?</th>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>
  </div>
  </div>

  <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
    integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous">
  </script>
  <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
    integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
  </script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
    integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous">
  </script>
  <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js">
  </script>

  <script>
    $(document).ready(function () {
      $('[data-toggle="tooltip"]').tooltip();
      $('#example').DataTable({
        "aLengthMenu": [
          [5, 10, 25, -1],
          [5, 10, 25, "All"]
        ],
        "iDisplayLength": 5
      });
    });
  </script>

  <script>
    function checkAll(bx) {
      var cbs = document.getElementsByTagName('input');
      for (var i = 0; i < cbs.length; i++) {
        if (cbs[i].type == 'checkbox') {
          cbs[i].checked = bx.checked;
        }
      }
    }
  </script>

</body>

</html>
